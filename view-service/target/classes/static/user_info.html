<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>
            欢迎界面
        </title>
        <meta name="renderer" content="webkit">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="format-detection" content="telephone=no">
        <link rel="stylesheet" href="css/main.css" media="all">
        <link rel="stylesheet" href="lib/bootstrap/css/bootstrap.css" media="all">
        <link rel="stylesheet" href="lib/bootstrap/js/bootstrap.min.js" media="all">
        <script type="text/javascript" src="/lib/loading/okLoading.js"></script>
        <!--导入ElementUI样式列表，css样式一般都在页面头部-->
		<link rel="stylesheet" href="/css/index.css">	
   </head>
    <body>
    <style type="text/css">
	legend { display: block; width:100px; border-bottom:0px; font-family: "Microsoft YaHei","Helvetica Neue";}
	legend a{ color:#666;} legend a:hover{ text-decoration:none;}
	.layui-table{ font-family: "Microsoft YaHei","Helvetica Neue";}
    .is-selected { color: #1989FA;}
    .el-calendar-table .el-calendar-day{ height: 55px;}
    </style>
		
     	<div id="app" class="x-body" style="background-color: #f3f3f3; margin: auto;">
        	<div class="row" >
        		<div class="col-sm-2"></div>
        	<div class="col-sm-6">
        		<blockquote class="layui-elem-quote" >
                       	欢迎使用专家库管理系统！<span class="f-14">v1.0</span> &nbsp;&nbsp;&nbsp;&nbsp;您上次登入的时间为：2022-4-1
            </blockquote>
        	</div>
            </div>
         
             <fieldset class="layui-elem-field layui-field-title site-title">
              <!--<legend><a name="default">信息统计</a></legend>-->
            </fieldset>
			<!--</div>-->
			
  
        <!--相关统计-->
        <div class="row" >
 			<div class="col-sm-2"></div>
			<div class="col-sm-4"  >
            <section class="panel" >
            	<!--style="min-height: 500px;"-->
                <!--<div class="panel-heading"> </div>-->
                
                <div class="layui-card" style="margin: 30px 0px;">
                    <div class="layui-card-body ">
                        <table class="layui-table welcome" style="text-align: left !important; padding-left:20px;">
                            <thead>
                            <tr>
                                <th colspan="4" scope="col" style="text-align: left !important; padding-left:20px;">用户信息</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th>用户姓名</th>
<!--                                <td><span id="lbServerName">张三</span></td>-->
                                <td><span id="lbServerName">{{this.userinfo.name}}</span></td>
                            </tr>
                            <tr>
                                <td>年龄</td>
<!--                                <td>39</td>-->
                                <td>{{userinfo.age}}</td>
                            </tr>
                            <tr>
                                <td>性别</td>
<!--                                <td>男</td>-->
                                <td>{{userinfo.gender}}</td>
                            </tr>
                            <tr>
                                <td>国籍</td>
                                <td>{{userinfo.nationality}}</td>
<!--                                <td>中国</td>-->
                            </tr>
                            <tr>
                                <td>邮箱地址 </td>
                                <td>{{userinfo.mailAddress}}</td>
<!--                                <td>zhangsan@stu.edu.cn</td>-->
                            </tr>
                            <tr>
                                <td>联系方式</td>
                                <td>{{userinfo.phoneNum}}</td>
<!--                                <td>12312312345</td>-->
                            </tr>
                            <tr>
                                <td>现居城市 </td>
                                <td>{{userinfo.precentcity}}</td>
<!--                                <td>广东省汕头市</td>-->
                            </tr>
                            <tr>
                                <td>通讯地址</td>
<!--                                <td>汕头大学</td>-->
                                <td>{{userinfo.address}}</td>
                            </tr>
                            <tr>
                                <td>最高学位 </td>
                                <td>{{userinfo.highestQualification}}</td>
<!--                                <td>博士</td>-->
                            </tr>
                            <!-- <tr>
                                <td>服务器的语言种类 </td>
                                <td>Chinese (People's Republic of China)</td>
                            </tr> -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
        </div>
        <div id="rili" class="col-sm-4">
         <section class="panel"  style="min-height: 470px;margin: auto;">
             <el-calendar style="height:25px">
                 <!-- 这里使用的是 2.5 slot 语法，对于新项目请使用 2.6 slot 语法-->
                 <template
                         slot="dateCell"
                         slot-scope="{date, data}">
                     <p :class="data.isSelected ? 'is-selected' : ''">
                         {{ data.day.split('-').slice(1).join('-') }} {{ data.isSelected ? '✔️' : ''}}
                     </p>
                 </template>
             </el-calendar>
         </section>
        </div>
        <!--<div class="col-sm-4" >
         <section class="panel" style="min-height: 470px;">
                    <div class="panel-heading">小区停车位</div>
                    <div class="panel-body">
                        <div class="echarts" id="years" style="height:300px; height:350px"></div>
                    </div>
                </section>
        </div>    -->
        <div class="col-sm-2"></div>
        </div>
        
        <div class="row">
    	<div class="col-sm-2"></div>
        <div class="col-sm-8">
          <section class="panel" style="min-height: 300px;"> 
                    <div class="panel-heading" style="margin: auto;width:96%">最新活动</div>
                    
                    <table class="layui-table" style="margin: auto;width:96%">
						  <colgroup>
						    <col width="150">
						    <col width="200">
						    <col>
						  </colgroup>
						  <thead>
						    <tr>
						      <th>活动通知</th>
						      <th>发布日期</th>
						      <th>简介</th>
						    </tr> 
						  </thead>
						  <tbody>
						    <tr>
						      <td>第一届发现杯即将举行</td>
						      <td>2021-11-29</td>
						      <td>人生就像是一场修行</td>
						    </tr>
						    <tr>
						      <td>专家库管理系统普遍反馈良好</td>
						      <td>2022-1-28</td>
						      <td>于千万人之中遇见你所遇见的人，于千万年之中，时间的无涯的荒野里…</td>
						    </tr>
						    <tr>
						      <td>这一届毕业生就业压力递增</td>
						      <td>2022-3-2</td>
						      <td>Life is either a daring adventure or nothing.</td>
						    </tr>
						  </tbody>
						</table>
						                    
                    <!--<div class="panel-body" style="padding-top: 0px;">
                        <ul class="list-group clear-list m-t">
                            <li class="list-group-item fist-item"> <span class="float-right"> 09:00 </span> <span class="label label-success">1</span> 小区活动1 </li>
                            <li class="list-group-item"> <span class="float-right"> 10:16 </span> <span class="label label-info">2</span> 小区活动2 </li>
                            <li class="list-group-item"> <span class="float-right"> 08:22 </span> <span class="label label-primary">3</span> 小区活动3 </li>
                            <li class="list-group-item"> <span class="float-right"> 11:06 </span> <span class="label label-warning">4</span> 小区活动4 </li>
                            <li class="list-group-item"> <span class="float-right"> 12:00 </span> <span class="label label-warning">5</span> 小区活动5 </li>
                            <li class="list-group-item"> <span class="float-right"> 08:22 </span> <span class="label label-warning">6</span> 小区活动6 </li>
                            <li class="list-group-item"> <span class="float-right"> 11:06 </span> <span class="label label-warning">7</span> 小区活动7 </li>
                            <li class="list-group-item"> <span class="float-right"> 12:00 </span> <span class="label label-warning">8</span> 小区活动8 </li>
                            <li class="list-group-item"> <span class="float-right"> 11:06 </span> <span class="label label-warning">9</span> 小区活动9 </li>
                            <li class="list-group-item"> <span class="float-right"> 12:00 </span> <span class="label label-warning">10</span> 小区活动10 </li>
                        </ul>
                    </div>-->
                </section>
        </div>
        <div class="col-sm-2"></div>
        </div>

        <div class="layui-footer footer footer-demo">
            <div class="layui-main">
                <p>
                    <a href="/">
                        Copyright ©2017 17sucai.com All Rights Reserved.
                    </a>
                </p>
            </div>
        </div>
        </div>
    </body>

    <script src="lib/layui/layui.js" charset="utf-8"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/echarts.min.js"></script>
    <!--js脚本一般是放在页面尾部-->
    <!--Vue js脚本-->
    <script src="js/vue.js" charset="utf-8"></script>
    <!--引入ElementUI组件库-->
    <script src="js/index.js" charset="utf-8"></script>
    <!--引入Axios js脚本-->
    <script src="js/axios.js" charset="utf-8"></script>
    <!--引入时间插件包Momentjs-->
    <script src="js/moment.min.js" charset="utf-8"></script>
    <script type="text/javascript">

        var app = new Vue({
            el:"#app",
            data:{
                userinfo: {userid:3}
            },
            methods:{
                getKeyfromURL (name) {
                    return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.href) || [, ""])[1].replace(/\+/g, '%20')) || null
                },
                getQueryString(name){
                    let reg = `(^|&)${name}=([^&]*)(&|$)`
                    let r = window.location.search.substr(1).match(reg);
                    if (r != null) return unescape(r[2]); return null;
                },
                search(){
                    if (this.userinfo.userid ==null) this.userinfo.userid=5;  //测试阶段用
                    axios.get("/user/"+this.userinfo.userid).then((res)=>{
                        console.log("1");
                        console.log(res.data);
                        console.log("2");
                        console.log(res.data.data);  //！！！！！！注意别写错为date了，这里是data！！！！！！
                        this.userinfo = res.data.data;
                        // console.log(this.userinfo);
                        console.log("3");
                        console.log(this.userinfo);
                    });
                }
            },
            created:function () {//Vue生命周期方法，加载页面时会执行该方法
                layui.use(['laydate','element','laypage','layer'], function(){
                    $ = layui.jquery;//jquery
                    layer = layui.layer;//弹出层
                    okLoading.close($);
                    layer.ready(function(){ //为了layer.ext.js加载完毕再执行
                        layer.photos({
                            photos: '#x-img'
                        });
                    });
                });
                //初始页面获取列表信息
                this.userinfo.userid = this.getQueryString("userid");
                // alert("userid = "+ this.userinfo.userid);
                this.search();
            }
        });
    </script>
<!--    <script>-->
<!--        layui.use(['element','layer','form'], function(){-->
<!--            $ = layui.jquery;//jquery-->
<!--            lement = layui.element();//面包导航-->
<!--            layer = layui.layer;//弹出层-->
<!--            form = layui.form();-->
<!--            okLoading.close($);-->
<!--        })-->
<!--    </script>-->
</html>